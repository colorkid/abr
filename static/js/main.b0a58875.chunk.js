(this["webpackJsonpabr-task"]=this["webpackJsonpabr-task"]||[]).push([[0],{21:function(t,e,n){t.exports={selectWrapper:"Select_selectWrapper__3E8kC",select:"Select_select__1asJX",select__tag:"Select_select__tag__2jQaX"}},22:function(t,e,n){t.exports={range:"Range_range__2Z1NE",range__top:"Range_range__top__1dLRX",range__result:"Range_range__result__3PHE3"}},23:function(t,e,n){t.exports={resultItem__label:"ResultItem_resultItem__label__3BcCn",resultItem__value:"ResultItem_resultItem__value__1mfLh",resultItem:"ResultItem_resultItem__23qlo"}},28:function(t,e,n){t.exports={depositSelect:"DepositSelect_depositSelect__3QBQd",depositSelect__label:"DepositSelect_depositSelect__label__3qVaR"}},30:function(t,e,n){t.exports={resultData:"ResultData_resultData__30iaL",resultData__row:"ResultData_resultData__row__21WA4"}},31:function(t,e,n){t.exports={calculator:"Calculator_calculator__1I9IT",calculator__header:"Calculator_calculator__header__3tKTw"}},32:function(t,e,n){t.exports={button:"PdfButton_button__3TQcP",icon:"PdfButton_icon__3bCb1"}},40:function(t,e,n){t.exports={skeleton:"styles_skeleton__xblvk"}},41:function(t,e,n){t.exports={rangeLabel:"RangeLabel_rangeLabel__7GCy-"}},63:function(t,e,n){},67:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n(10),a=n(17),u=n(44),o=n(21),l=n.n(o),s={control:function(){return{display:"flex",height:" 100%",width:"100%",padding:"0 5px 0 10px"}},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(){return{display:"none"}},menuList:function(){return{borderRadius:"3px"}},option:function(t,e){var n=e.isFocused;return{backgroundColor:e.isSelected||n?"var(--main-accent)":null,padding:"15px 0 15px 20px",cursor:"pointer"}}},i=n(45),d=function(t,e){var n=Object(i.a)(e,3),r=n[0],c=n[1],a=n[2],u=Math.abs(t);return(u%=100)>=5&&u<=20?a:1===(u%=10)?r:u>=2&&u<=4?c:a},m=function(t){return null===t||void 0===t?void 0:t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},f=function(t,e,n,r){var c;return r?null===t||void 0===t||null===(c=t.filter((function(t){return t[e]===n}))[0])||void 0===c?void 0:c[r]:null===t||void 0===t?void 0:t.filter((function(t){return t[e]===n}))[0]},p=function(t,e,n,r){var c,a,u=f(t,"code",e,"param"),o=null===u||void 0===u||null===(c=u.filter((function(t){return t.period_from<=n})).slice(-1)[0])||void 0===c?void 0:c.summs_and_rate,l=null===o||void 0===o||null===(a=o.filter((function(t){return t.summ_from<=r})).slice(-1)[0])||void 0===a?void 0:a.rate,s=function(t,e,n){var r=t/100*e*n,c=t+r;return{income:Math.round(r),resultAmount:Math.round(c)}}(r,l,n);return{minDay:null===u||void 0===u?void 0:u[0].period_from,minSum:null===o||void 0===o?void 0:o[0].summ_from,resultSums:s,rate:l}},j=n(3),_=function(t){var e=t.list,n=t.onChange,r=t.currentCode,c=f(e,"value",r);return Object(j.jsx)("div",{className:l.a.selectWrapper,children:Object(j.jsx)("div",{className:l.a.select,children:Object(j.jsx)(u.a,{styles:s,className:l.a.select__tag,value:c,onChange:function(t){n(t.value)},options:e,isSearchable:!1})})})},b=n(28),x=n.n(b),v=function(t){var e=t.depositTypeList,n=t.dispatchCurrentDeposit,r=t.currentCode;return Object(j.jsxs)("div",{className:x.a.depositSelect,children:[Object(j.jsx)("label",{className:x.a.depositSelect__label,children:"\u0412\u043a\u043b\u0430\u0434"}),Object(j.jsx)(_,{currentCode:r,list:e,onChange:n})]})},O=n(20),h=n.n(O),g=n(38),C=n(18);var y=Object(C.b)({name:"calculator",initialState:{deposits:[],depositSelectList:[],currentCode:null,currentTerm:null,currentAmount:null,minDay:null,minSum:null,rate:null,income:null,resultAmount:null},reducers:{loadDeposits:function(t,e){t.deposits=e.payload},createDepositSelectList:function(t,e){t.depositSelectList=e.payload.map((function(t){return{value:t.code,label:t.name}}))},setCurrentCode:function(t,e){t.currentCode=e.payload},setCurrentTerm:function(t,e){t.currentTerm=e.payload},setCurrentAmount:function(t,e){t.currentAmount=e.payload},setMinDay:function(t,e){t.minDay=e.payload},setMinSum:function(t,e){t.minSum=e.payload},setRate:function(t,e){t.rate=e.payload},setIncome:function(t,e){t.income=e.payload},setResultAmount:function(t,e){t.resultAmount=e.payload}}}),S=y.actions,w=S.createDepositSelectList,D=S.loadDeposits,T=S.setCurrentCode,A=S.setCurrentTerm,N=S.setCurrentAmount,I=S.setMinDay,L=S.setMinSum,R=S.setRate,k=S.setIncome,E=S.setResultAmount,M=y.reducer,B=Object(C.a)({reducer:{calculator:M},middleware:Object(C.c)({serializableCheck:!1})}),P=function(){return Object(a.b)()},Q=a.c,W=B,F=function(){var t=Q((function(t){return t.calculator.currentCode})),e=Q((function(t){return t.calculator.depositSelectList})),n=P();Object(r.useEffect)((function(){e.length&&n(T(e[0].value))}),[e]);return Object(j.jsx)(v,{currentCode:t,depositTypeList:e,dispatchCurrentDeposit:function(t){n(T(t))}})},J=Object(r.memo)(F),X=n(43),q=n(40),z=n.n(q),G=function(){return Object(j.jsx)("div",{className:z.a.skeleton})},H=n(41),K=n.n(H),V=function(t){var e=t.value,n=t.nouns;return Object(j.jsx)("div",{className:K.a.rangeLabel,children:e?function(){var t=m(e);return"".concat(t," ").concat(d(e,n))}():Object(j.jsx)(G,{})})},Z=n(22),U=n.n(Z),Y=(n(63),function(t){var e=t.nouns,n=t.onChange,r=t.value,c=t.label,a=t.max,u=t.min,o=t.step;return Object(j.jsx)("div",{className:U.a.range,children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:U.a.range__top,children:[Object(j.jsx)("div",{children:c}),Object(j.jsx)("span",{id:"output",className:U.a.range__result,children:Object(j.jsx)(V,{value:r,nouns:e})})]}),Object(j.jsx)(X.a,{min:u,max:a,step:o,onChange:n,value:r})]})})}),$=["\u0434\u0435\u043d\u044c","\u0434\u043d\u0435\u0439","\u0434\u043d\u0435\u0439","\u0434\u043d\u044f"],tt=function(t){var e=t.dispatchCurrentTerm,n=t.step,r=t.currentTerm,c=t.min,a=t.max;return Object(j.jsx)(Y,{nouns:$,onChange:e,value:r,label:"\u0421\u0440\u043e\u043a \u0432\u043a\u043b\u0430\u0434\u0430",step:n,min:c,max:a})},et=function(){var t=Q((function(t){return t.calculator.currentTerm})),e=Q((function(t){return t.calculator.minDay})),n=P();Object(r.useEffect)((function(){n(A(1))}),[]);return Object(j.jsx)(tt,{dispatchCurrentTerm:function(t){n(A(t))},currentTerm:t,min:e,max:365,step:1})},nt=Object(r.memo)(et),rt=["\u0440\u0443\u0431\u043b\u044c","\u0440\u0443\u0431\u043b\u044f","\u0440\u0443\u0431\u043b\u0435\u0439","\u0440\u0443\u0431\u043b\u044f"],ct=function(t){var e=t.dispatchCurrentTerm,n=t.currentAmount,r=t.min,c=t.max,a=t.step;return Object(j.jsx)(Y,{min:r,max:c,step:a,value:n,nouns:rt,onChange:e,label:"\u0421\u0443\u043c\u043c\u0430 \u0432\u043a\u043b\u0430\u0434\u0430"})},at=function(){var t=Q((function(t){return t.calculator.currentAmount})),e=Q((function(t){return t.calculator.minSum})),n=P();Object(r.useEffect)((function(){t||n(N(e))}),[e]);return Object(j.jsx)(ct,{dispatchCurrentTerm:function(t){n(N(t))},currentAmount:t,min:e,max:1e8,step:1e3})},ut=n(23),ot=n.n(ut),lt=function(t){var e=t.result,n=t.label,r=t.type;return Object(j.jsx)(j.Fragment,{children:e?Object(j.jsxs)("div",{className:ot.a.resultItem,children:[Object(j.jsx)("div",{className:ot.a.resultItem__label,children:n}),Object(j.jsx)("div",{className:ot.a.resultItem__value,children:"".concat(m(e)," ").concat(r)})]}):Object(j.jsx)(G,{})})},st=n(30),it=n.n(st),dt=["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"],mt=function(t){var e=t.rate,n=t.currentTerm,r=t.resultAmount,c=t.income;return Object(j.jsx)("div",{className:it.a.resultData,children:Object(j.jsxs)("div",{className:it.a.resultData__row,children:[Object(j.jsx)(lt,{result:e,label:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430",type:"%"}),Object(j.jsx)(lt,{result:r,label:"\u0421\u0443\u043c\u043c\u0430 \u0447\u0435\u0440\u0435\u0437 ".concat(n," ").concat(d(n,dt)),type:"\u0440."}),c?Object(j.jsx)(lt,{result:c,label:"\u0414\u043e\u0445\u043e\u0434",type:"\u0440."}):Object(j.jsx)(G,{})]})})},ft=function(){var t=Q((function(t){return t.calculator.currentTerm})),e=Q((function(t){return t.calculator.rate})),n=Q((function(t){return t.calculator.income})),r=Q((function(t){return t.calculator.resultAmount}));return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(mt,{rate:e,income:n,resultAmount:r,currentTerm:t})})},pt=Object(r.memo)(ft),jt=n(31),_t=n.n(jt),bt="./static/media/pdfIcon.74735100.svg",xt=n(32),vt=n.n(xt),Ot=function(t){var e=t.downLoad;return Object(j.jsx)("button",{onClick:e,className:vt.a.button,children:Object(j.jsx)("img",{src:bt,alt:"pdf icon",className:vt.a.icon})})},ht=n(33),gt=n.n(ht),Ct=n(42),yt=n.n(Ct).a.pdfMake.vfs;gt.a.vfs=yt;var St=["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"],wt=function(){var t=function(){var t=Q((function(t){return t.calculator.currentCode})),e=Q((function(t){return t.calculator.currentTerm})),n=Q((function(t){return t.calculator.rate})),r=Q((function(t){return t.calculator.currentAmount})),c=Q((function(t){return t.calculator.resultAmount})),a=Q((function(t){return t.calculator.income})),u=Q((function(t){return t.calculator.depositSelectList})),o=f(u,"value",t,"label"),l={content:[{text:"\u0412\u043a\u043b\u0430\u0434: ".concat(o,"."),style:"row"},{text:"\u0421\u0440\u043e\u043a \u0432\u043a\u043b\u0430\u0434\u0430: ".concat(e," ").concat(d(e,St),"."),style:"row"},{text:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430: ".concat(n," %."),style:"row"},{text:"\u0421\u0443\u043c\u043c\u0430 \u0432\u043a\u043b\u0430\u0434\u0430: ".concat(m(r)," \u0440\u0443\u0431\u043b\u0435\u0439."),style:"row"},{text:"\u0421\u0443\u043c\u043c\u0430 \u0447\u0435\u0440\u0435\u0437 ".concat(e," ").concat(d(e,St),": ").concat(m(c)," \u0440\u0443\u0431\u043b\u0435\u0439."),style:"row"},{text:"\u0414\u043e\u0445\u043e\u0434: ".concat(m(a)," \u0440\u0443\u0431\u043b\u0435\u0439."),style:"row"}],styles:{row:{fontSize:16,marginTop:5}}};return function(){gt.a.createPdf(l).download("deposit.pdf")}}();return Object(j.jsx)(Ot,{downLoad:function(){t()}})},Dt=function(){return Object(j.jsxs)("div",{className:_t.a.calculator,children:[Object(j.jsxs)("header",{className:_t.a.calculator__header,children:[Object(j.jsx)("h1",{children:"\u0414\u0435\u043f\u043e\u0437\u0438\u0442\u043d\u044b\u0439 \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440"}),Object(j.jsx)(wt,{})]}),Object(j.jsx)(J,{}),Object(j.jsx)(nt,{}),Object(j.jsx)(at,{}),Object(j.jsx)(pt,{})]})},Tt=function(){var t=Q((function(t){return t.calculator.deposits})),e=Q((function(t){return t.calculator.currentCode})),n=Q((function(t){return t.calculator.currentTerm})),c=Q((function(t){return t.calculator.currentAmount})),a=P();Object(r.useEffect)((function(){a(function(){var t=Object(g.a)(h.a.mark((function t(e){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("../data.json").then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()}));case 2:n=t.sent,e(D(n.deposits)),e(w(n.deposits));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]);var u=p(t,e,n,c);return a(I(u.minDay)),a(L(u.minSum)),a(R(u.rate)),a(k(u.resultSums.income)),a(E(u.resultSums.resultAmount)),Object(j.jsx)(Dt,{})};n(67),n(68);c.render(Object(j.jsx)(a.a,{store:W,children:Object(j.jsx)(Tt,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.b0a58875.chunk.js.map
